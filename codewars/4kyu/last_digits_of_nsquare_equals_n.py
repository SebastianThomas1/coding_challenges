# Sebastian Thomas (coding at sebastianthomas dot de)

# https://www.codewars.com/kata/584dee06fe9c9aef810001e8
#
# Last digits of N^2 == N

GEN_5 = '5507892033556035791371792629100237682598738962094476369972059049452' \
        '9674415872356349316743396224735742808212881683204466956795360394270' \
        '5325590956397795650064750041269156375588088616777441112284651504205' \
        '7934210324478787281919538790000999616163222123020708764047374316493' \
        '7111885529492948787619653369563936478585276843206312327015551162922' \
        '2757514046472049128376268843923398434787930056231395095867474010647' \
        '6704211178477509147003836984296147755270995029269684109343202879183' \
        '7395847986837152415514296472347178085885826232772975766860089497437' \
        '5340968838793909622272888268937402211237125201227312060617475157475' \
        '1537381989074240665252066611148827637678947177773960015235903946894' \
        '0981406303858475479073191502517602589457886594919664295499085407734' \
        '7828544986864086656739926957808216228357260302695456948792438016548' \
        '8488051064862760620827164159132523609790500938385405426324719893931' \
        '8022098236001625451776810291593965045066578090330527721983852863418' \
        '7964551142474853630723545704904450912521423427595549184397398445871' \
        '2528694819826927029255264834903206526851272202961318699947776535481' \
        '2915198576404229681830917734452777232007376038258831727292795636574' \
        '1901444523595431910306357249617898820317578776106213770808096781137' \
        '4931911766563031490205784352509572880668464121069252802275061298511' \
        '6162063840067789794024490238751112586895345495148882006786677023410' \
        '0283954928297028644727362521753544319791185506815726485880485267387' \
        '1684804002188529473022223344541221328464844153593793663133604458940' \
        '3287234784019473575603613462120086753733469133143387173508802126002' \
        '8575298538664393102232655345477684502995702556165814337023650207474' \
        '4856814787872902092412582905301249124668868351587677499891768678715' \
        '7281349408792768945297970977723054033566188281987022106305579672398' \
        '0661119019774464242102513674870111713127812540013369008603488908436' \
        '4023875765936821979626181917833520492704199324875237825867148278905' \
        '3448974401426123170356995484194994446106081462072540365599982715883' \
        '5603504932779554074196184928095209375302685239093756283914857161236' \
        '7351970609224242398777007574955787271559767413458997537695515862718' \
        '8879415163075696688163521550488982717043785080284340844126441268218' \
        '4851415772991603449701789233579668499144738956600193254582767800061' \
        '8329854426232827257556110733160697015864984222291255485729879337147' \
        '8663231724055157561023525439949993456080838011907415300600560557448' \
        '1870969278509977591805007541642852770816201135024680605816327617167' \
        '6765260937528056844214486193960499834472806721906670417240094234466' \
        '1978124266907875359446166985080646361371663840490292193418819095816' \
        '5952447786184614091287829843843170324817342888657273766314651910498' \
        '8029447960814673760503957196893714671801375619055462996814764263903' \
        '9530073191081698029385098900621665095808638110005574234232308961090' \
        '04106619977392256259918212890625'
GEN_6 = '4492107966443964208628207370899762317401261037905523630027940950547' \
        '0325584127643650683256603775264257191787118316795533043204639605729' \
        '4674409043602204349935249958730843624411911383222558887715348495794' \
        '2065789675521212718080461209999000383836777876979291235952625683506' \
        '2888114470507051212380346630436063521414723156793687672984448837077' \
        '7242485953527950871623731156076601565212069943768604904132525989352' \
        '3295788821522490852996163015703852244729004970730315890656797120816' \
        '2604152013162847584485703527652821914114173767227024233139910502562' \
        '4659031161206090377727111731062597788762874798772687939382524842524' \
        '8462618010925759334747933388851172362321052822226039984764096053105' \
        '9018593696141524520926808497482397410542113405080335704500914592265' \
        '2171455013135913343260073042191783771642739697304543051207561983451' \
        '1511948935137239379172835840867476390209499061614594573675280106068' \
        '1977901763998374548223189708406034954933421909669472278016147136581' \
        '2035448857525146369276454295095549087478576572404450815602601554128' \
        '7471305180173072970744735165096793473148727797038681300052223464518' \
        '7084801423595770318169082265547222767992623961741168272707204363425' \
        '8098555476404568089693642750382101179682421223893786229191903218862' \
        '5068088233436968509794215647490427119331535878930747197724938701488' \
        '3837936159932210205975509761248887413104654504851117993213322976589' \
        '9716045071702971355272637478246455680208814493184273514119514732612' \
        '8315195997811470526977776655458778671535155846406206336866395541059' \
        '6712765215980526424396386537879913246266530866856612826491197873997' \
        '1424701461335606897767344654522315497004297443834185662976349792525' \
        '5143185212127097907587417094698750875331131648412322500108231321284' \
        '2718650591207231054702029022276945966433811718012977893694420327601' \
        '9338880980225535757897486325129888286872187459986630991396511091563' \
        '5976124234063178020373818082166479507295800675124762174132851721094' \
        '6551025598573876829643004515805005553893918537927459634400017284116' \
        '4396495067220445925803815071904790624697314760906243716085142838763' \
        '2648029390775757601222992425044212728440232586541002462304484137281' \
        '1120584836924303311836478449511017282956214919715659155873558731781' \
        '5148584227008396550298210766420331500855261043399806745417232199938' \
        '1670145573767172742443889266839302984135015777708744514270120662852' \
        '1336768275944842438976474560050006543919161988092584699399439442551' \
        '8129030721490022408194992458357147229183798864975319394183672382832' \
        '3234739062471943155785513806039500165527193278093329582759905765533' \
        '8021875733092124640553833014919353638628336159509707806581180904183' \
        '4047552213815385908712170156156829675182657111342726233685348089501' \
        '1970552039185326239496042803106285328198624380944537003185235736096' \
        '0469926808918301970614901099378334904191361889994425765767691038909' \
        '95893380022607743740081787109376'


def successor_of_green(gen, a, g, l):
    zeros = 0
    while gen[-l - zeros - 1] == '0':
        zeros += 1
    return gen[-l - zeros - 1] + '0'*zeros + a, g, l + zeros + 1


def green(n):
    if n == 1:
        return 1

    a = '5'
    g_a = 5  # a % 10
    l_a = 1  # digits in a
    b = '6'
    g_b = 6
    l_b = 1

    for idx in range(n - 2):
        if g_a == 5:
            c, g_c, l_c = successor_of_green(GEN_5, a, g_a, l_a)
        else:
            c, g_c, l_c = successor_of_green(GEN_6, a, g_a, l_a)

        if int(b) < int(c):
            a, g_a, l_a, b, g_b, l_b = b, g_b, l_b, c, g_c, l_c
        else:
            a, g_a, l_a = c, g_c, l_c

    return int(a)


if __name__ == '__main__':
    print(green(1))  # 1
    print(green(2))  # 5
    print(green(3))  # 6
    print(green(4))  # 25
    print(green(12))  # 2890625
    print(green(13))  # 7109376
    print(green(100))
    # 6188999442576576769103890995893380022607743740081787109376
    print(green(110))
    # 9580863811000557423423230896109004106619977392256259918212890625
